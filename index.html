<!DOCTYPE html>

<html>
    <script>

let playerScore = 0
let computerScore = 0

//makes player input case insesitive 
    function parse(play) {

        if (play.toLowerCase() === "rock") {
            return "rock";
        } else if (play.toLowerCase() === "scissors" || play.toLowerCase() === "scissor") {
            return "scissors"
        } else if (play.toLowerCase() === "paper") {
            return "paper"
        } else {
            return "Please enter 'rock' 'paper' or 'scissors'"
        }

    }        
    
    function computerPlay(num) {

        if (num > 7) {
            return "rock";
        } else if (num > 4) {
            return "scissors";
        } else {
            return "paper";
        }
    }

//resolves matchups; could be cleaned up, but need to learn more first
    function playRound(playerSelection, computerSelection) {
        if (playerSelection == "rock") {
            if (computerSelection == "rock") {
                return "dTwo rocks! It's a draw."
            } else if (computerSelection == "scissors") {
                return "wRock smashes scissors! You win."
            } else {
                return "lPaper covers rock. Computer wins this one."
            }
        } else if (playerSelection == "scissors") {
            if (computerSelection == "rock") {
                return "lYour scissors are shattered by the computer's rock. Round lost."
            } else if (computerSelection == "scissors") {
                return "dIt happens before you realize it: The only thing you can even process is the spine-tingling hiss and clang of sharply-honed steel against steel. Stalemate... For now."
            } else {
                return "wThe resistance is nonexistant. The computer played paper. You left that paper in two."
            }
        } else if (playerSelection == "paper") {
            if (computerSelection == "rock") {
                return "wWriting all these is harder than it sounds. Win"
            } else if (computerSelection == "scissors") {
                return "lMaking paper sound cool is hard. Lose"
            } else {
                return "dWhat does it look like when two pieces of paper fight anyway?"
            }
                       
        }
    
    }

//accepts results by slicing prepended code from playRound and increments score based on that
    function score(result) {
        
              
        if (result == "w") {
            ++playerScore
        } else if (result == "l") {
            ++computerScore
        }

    }


//narration function meant to return messages based on the current score. It's more work than I realized, however, so I'm commenting it out
//for now to focus on the important stuff
//
//    function narr (playerScore, computerScore, flav) {
//        if (playerScore > computerScore) {
//            switch(+playerScore - +computerScore) {
//
//            case 1:
//               let 
//
//            }
//        }
//    }

    function game() {
        
        let str = prompt()

        let flav = playRound(parse(str), computerPlay(Math.random() * 10 + 1));
        score(flav.slice(0,1))

        console.log(flav.slice(1))
        console.log("YOU: " + playerScore + " || " + "COM: " + computerScore)

    }

    </script>
</html>